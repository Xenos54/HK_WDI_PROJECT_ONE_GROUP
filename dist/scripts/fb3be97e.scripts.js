angular.module("tickeyApp",["firebase"]).config(["$routeProvider",function(a){a.when("/game_board/:id/:mySymbol",{templateUrl:"views/game_board.html",controller:"GameBoardCtrl"}).when("/match_player",{templateUrl:"views/match_player.html",controller:"MatchPlayerCtrl"}).when("/how_to",{templateUrl:"views/how_to.html",controller:"how_toCtrl"}).when("/",{templateUrl:"views/home_page.html",controller:"MatchPlayerCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("tickeyApp").controller("MatchPlayerCtrl",["$scope","angularFire","$location",function(a,b,c){function d(){return Math.floor(16777215*Math.random()).toString(16)}a.waitingRoom={};var e=new Firebase("https://ticdb.firebaseio.com/");a.promise=b(e,a,"waitingRoom"),a.promise.then(function(){1==a.waitingRoom.xJoined?a.joinWaitingRoom():a.createWaitingRoom()}),a.createWaitingRoom=function(){a.waitingRoom={xJoined:!0,gameBoardNumber:d()},a.noticeMessage="You are x, waiting or oppenent.",e.on("child_removed",function(){"https//localhost";c.path("game_board/"+a.waitingRoom.gameBoardNumber+"/x"),console.log("createWaitingRoom")})},a.joinWaitingRoom=function(){var b=a.waitingRoom.gameBoardNumber;a.waitingRoom={},c.path("game_board"+b+"/o")}}]),angular.module("tickeyApp").controller("GameBoardCtrl",["$scope","$timeout","$routeParams","angularFire",function(a,b,c,d){function e(a,b){return!(b>a||a>b)}a.gameBoardId=c.id,a.mySymbol=c.mySymbol,a.myTurn=!1,a.gameBoard=[];var f=new Firebase("https://ticdb.firebaseio.com/room/"+c.id);a.promise=d(f,a,"gameBoard",[]),a.promise.then(function(){a.gameBoard=["","","","","","","","",""],"x"==c.mySymbol?(console.log("I am First Move: Symbol: "+c.mySymbol),a.myTurn=!0):(console.log("I am Second Move: Symbol: "+c.mySymbol),a.myTurn=!1)}),f.on("value",function(b){console.log("wait received"),a.myTurn?console.log("it is my turn but I receive "):null!=b.val()?e(b.val(),a.gameBoard)?console.log("same gameboard"):(console.log("diff gameboard"),a.isLosing()||a.isDraw()||(a.myTurn=!0)):console.log("snapshot is empty")}),a.handleClick=function(b){a.myTurn&&(a.gameBoard[b-1]=a.mySymbol,a.isWinning()||a.isDraw()||(a.myTurn=!1))},a.isLosing=function(){return!1},a.isWinning=function(){return!1},a.isDraw=function(){return!1}}]),angular.module("tickeyApp").controller("how_toCtrl",["$scope",function(a){a.name="Tickety"}]),angular.module("tickeyApp").controller("home_pageCtrl",["$scope",function(a){a.name="Tickety"}]),angular.module("tickeyApp").directive("iansDirective",function(){return{restrict:"A",link:function(a,b){console.log("linked"),b.bind("click",function(){alert("MessageGoesHere")})}}});